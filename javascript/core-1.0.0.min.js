define("core/lib/support",[],function(){var e;return e={propertyDescriptors:function(){var e;if(typeof Object.defineProperty!="function"||typeof Object.defineProperties!="function")return!1;try{return e={},Object.defineProperty(e,"foo",{value:"bar"}),e.foo==="bar"}catch(t){return!1}}()}});var __slice=[].slice;define("core/lib/utils",["underscore","core/lib/support"],function(){var e,t,n;return n=require("underscore"),e=require("core/lib/support"),t={isDeferred:function(e){return n.isFunction(e.promise)&&n.isFunction(e.done)&&n.isFunction(e.fail)&&n.isFunction(e.state)},beget:function(){var e;return typeof Object.create=="function"?Object.create:(e=function(){},function(t){return e.prototype=t,new e})}(),readonly:function(){var t;return e.propertyDescriptors?(t={writable:!1,enumerable:!0,configurable:!1},function(){var e,n,r,i,s;e=arguments[0],r=2<=arguments.length?__slice.call(arguments,1):[];for(i=0,s=r.length;i<s;i++)n=r[i],t.value=e[n],Object.defineProperty(e,n,t);return!0}):function(){return!1}}(),upcase:function(e){return e.charAt(0).toUpperCase()+e.substring(1)},underscorize:function(e){return e.replace(/[A-Z]/g,function(e,t){return(t!==0?"_":"")+e.toLowerCase()})},modifierKeyPressed:function(e){return e.shiftKey||e.altKey||e.ctrlKey||e.metaKey}},typeof Object.seal=="function"&&Object.seal(t),t}),define("core/session",["underscore","backbone","core/lib/support","core/lib/utils"],function(){var e,t,n,r,i;return i=require("underscore"),e=require("backbone"),n=require("core/lib/support"),r=require("core/lib/utils"),t={user:null,serviceUrl:"service"},t.subscribe=t.on=e.Events.on,t.unsubscribe=t.off=e.Events.off,t.publish=t.trigger=e.Events.trigger,t._callbacks=null,r.readonly(t,"subscribe","unsubscribe","publish","on","off","trigger"),t.seal=function(){if(n.propertyDescriptors&&Object.seal)return Object.seal(t)},r.readonly(t,"seal"),t}),define("core/dao_factory",["underscore","core/session"],function(){var e,t,n;return n=require("underscore"),t=require("core/session"),e={registry:{},instanceCache:{},register:function(e,t){if(!n.has(this.registry,e))return this.registry[e]=t},getDAOByName:function(e){var r;if(!n.has(this.registry,e))throw new Error("DAO with name "+e+" not found");return n.contains(n.keys(this.instanceCache),e)||(this.instanceCache[e]=new this.registry[e],r=this.instanceCache[e],r.setBaseUrl(t.serviceUrl+r.baseUrl)),this.instanceCache[e]}}}),define("core/mediator",["underscore","backbone","core/lib/support","core/lib/utils"],function(){var e,t,n,r,i;return i=require("underscore"),e=require("backbone"),n=require("core/lib/support"),r=require("core/lib/utils"),t={},t.subscribe=t.on=e.Events.on,t.unsubscribe=t.off=e.Events.off,t.publish=t.trigger=e.Events.trigger,t._callbacks=null,r.readonly(t,"subscribe","unsubscribe","publish","on","off","trigger"),t.seal=function(){if(n.propertyDescriptors&&Object.seal)return Object.seal(t)},r.readonly(t,"seal","subscribe","unsubscribe","publish","on","off","trigger"),t}),define("core/dao",["core/dao_factory","core/mediator"],function(){var e,t,n,r;return r=require("core/dao_factory"),n=require("core/mediator"),t=require("core/feedback"),e=function(){function e(e){e==null&&(e="/"),this.setBaseUrl(e)}return e.prototype.baseUrl="/",e.prototype.modelClass=null,e.prototype.collectionClass=null,e.prototype.setBaseUrl=function(e){this.baseUrl=e;if(this.baseUrl.charAt(this.baseUrl.length-1)!=="/")return this.baseUrl=this.baseUrl+"/"},e.prototype.removeWhitespaces=function(e){var t,n,r;if(_.isObject(e)){r=[];for(t in e)n=e[t],_.isString(n)?r.push(e[t]=n.replace(/\s\s+/g," ")):r.push(void 0);return r}},e.prototype.fetchCollection=function(e,t,n,r){var i,s,o=this;return e==null&&(e="GET"),t==null&&(t=""),n==null&&(n=[]),r==null&&(r={}),s=$.Deferred(),this.removeWhitespaces(r),i=$.ajax({url:this.constructUrl(t,n),type:e,dataType:"json",data:r}),i.fail(this.defaultPromiseError(s)).done(function(e,t,n){var r;return r=new o.collectionClass(e),s.resolve.apply(o,[r,n])}),s},e.prototype.defaultPromiseError=function(e){var r;return r=function(r){var i,s;return r.status===420?n.publish("session:expired"):r.status===500?n.publish("service:error"):(i=r.getResponseHeader("Content-Type"),r.status!==404||!!i&&i.indexOf("application/json")!==-1?(s=$.parseJSON(r.responseText),t.error(s.erro.message)):t.error("Página não encontrada")),e.reject.apply(this,arguments)},r},e.prototype.fetchModel=function(e,t,n,r){var i,s,o=this;return e==null&&(e="GET"),t==null&&(t=""),n==null&&(n=[]),r==null&&(r={}),_.isObject(t)&&(r=t,t=""),this.removeWhitespaces(r),s=$.Deferred(),i=$.ajax({url:this.constructUrl(t,n),type:e,dataType:"json",data:r}),i.fail(this.defaultPromiseError(s)).done(function(e,t,n){var r;return r=new o.modelClass(e),s.resolve.apply(o,[r,n])}),s},e.prototype.fetchRaw=function(e,t,n,r){var i,s,o=this;return e==null&&(e="GET"),t==null&&(t=""),n==null&&(n=[]),r==null&&(r={}),_.isObject(t)&&(r=t,t=""),this.removeWhitespaces(r),s=$.Deferred(),i=$.ajax({url:this.constructUrl(t,n),type:e,dataType:"json",data:r}),i.fail(this.defaultPromiseError(s)).done(function(e,t,n){return s.resolve.apply(o,[e,n])}),s},e.prototype.listar=function(){return this.fetchCollection("GET")},e.prototype.remover=function(e){return this.fetchModel("DELETE","{0}",[e])},e.prototype.atualizar=function(e,t){return this.fetchModel("PUT","{0}",[e],t)},e.prototype.criar=function(e){return this.fetchModel("POST","{0}",null,e)},e.prototype.ler=function(e){return this.fetchModel("GET","{0}",[e])},e.prototype.constructUrl=function(e,t){var n,r,i,s,o;i=function(t,n){var r;return r=new RegExp("\\{"+n+"\\}"),e=e.replace(r,t)};for(r=s=0,o=t.length;s<o;r=++s)n=t[r],i(n,r);return e=this.baseUrl+e},e}()}),define("core/lib/subscriber",["core/mediator"],function(e){var t;return t={subscribeEvent:function(t,n){if(typeof t!="string")throw new TypeError("Subscriber#subscribeEvent: type argument must be a string");if(typeof n!="function")throw new TypeError("Subscriber#subscribeEvent: handler argument must be a function");return e.unsubscribe(t,n,this),e.subscribe(t,n,this)},unsubscribeEvent:function(t,n){if(typeof t!="string")throw new TypeError("Subscriber#unsubscribeEvent: type argument must be a string");if(typeof n!="function")throw new TypeError("Subscriber#unsubscribeEvent: handler argument must be a function");return e.unsubscribe(t,n)},unsubscribeAllEvents:function(){return e.unsubscribe(null,null,this)}},typeof Object.freeze=="function"&&Object.freeze(t),t});var __slice=[].slice;define("core/lib/logger",[],function(){var e;return e={log:function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],this.logPrefix!=null&&e.unshift("["+this.logPrefix+"]"),typeof console!="undefined"&&console!==null&&typeof console.log=="function"&&console.log.apply(console,e),this},error:function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],this.logPrefix!=null&&e.unshift("["+this.logPrefix+"]"),typeof console!="undefined"&&console!==null&&typeof console.error=="function"&&console.error.apply(console,e),this},warn:function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],this.logPrefix!=null&&e.unshift("["+this.logPrefix+"]"),typeof console!="undefined"&&console!==null&&typeof console.warn=="function"&&console.warn.apply(console,e),this}}}),define("core/dispatcher",["underscore","underscore.string","backbone","core/mediator","core/lib/utils","core/lib/subscriber","core/lib/logger"],function(){var e,t,n,r,i,s,o,u,a;return u=require("underscore"),a=require("underscore.string"),t=require("backbone"),s=require("core/mediator"),o=require("core/lib/utils"),i=require("core/lib/subscriber"),r=require("core/lib/logger"),e=function(e,t){return this.name="ActionNotImplementedError",this.message="We cannot find an action '"+e+"' on controller '"+t+"'"},e.prototype=new Error,e.prototype.constructor=e,n=function(){function n(){this.initialize.apply(this,arguments)}return n.extend=t.Model.extend,u(n.prototype).extend(i),u(n.prototype).extend(r),n.prototype.previousControllerName=null,n.prototype.currentControllerName=null,n.prototype.currentController=null,n.prototype.currentAction=null,n.prototype.currentParams=null,n.prototype.logPrefix="Dispatcher",n.prototype.url=null,n.prototype.initialize=function(e){return e==null&&(e={}),this.settings=u(e).defaults({controllerPath:"controllers/",controllerSuffix:"_controller"}),this.subscribeEvent("matchRoute",this.matchRoute),this.subscribeEvent("!startupController",this.startupController)},n.prototype.matchRoute=function(e,t){return this.log("Loading controller for route: "+e),this.startupController(e.controller,e.action,t)},n.prototype.startupController=function(e,t,n){var r,i;t==null&&(t="index"),n==null&&(n={}),n.changeURL!==!1&&(n.changeURL=!0),n.forceStartup!==!0&&(n.forceStartup=!1),i=!n.forceStartup&&this.currentControllerName===e&&this.currentAction===t&&(!this.currentParams||u(n).isEqual(this.currentParams));if(i)return;return r=u(this.controllerLoaded).bind(this,e,t,n),this.loadController(e,r)},n.prototype.loadController=function(e,t){var n,r;return n=a.underscored(e)+this.settings.controllerSuffix,r=this.settings.controllerPath+n,(typeof define!="undefined"&&define!==null?define.amd:void 0)?require([r],t):t(require(r))},n.prototype.controllerLoaded=function(t,n,r,i){var o,u,a;a=this.currentControllerName||null,u=this.currentController||null,u&&(s.publish("beforeControllerDispose",u),u.dispose(r,t)),o=new i(r,a);if(o[n]===void 0)throw new e(n,t);this.log("Calling controller action '"+n+"' on controller '"+t+"'"),o[n](r,a);if(o.redirected)return;return this.previousControllerName=a,this.currentControllerName=t,this.currentController=o,this.currentAction=n,this.currentParams=r,this.adjustURL(o,r),this.log("Broadcasting the event 'startupController' throught mediator"),s.publish("startupController",{previousControllerName:this.previousControllerName,controller:this.currentController,controllerName:this.currentControllerName,params:this.currentParams})},n.prototype.adjustURL=function(e,t){var n;if(t.path||t.path==="")n=t.path;else if(typeof e.historyURL=="function")n=e.historyURL(t);else{if(typeof e.historyURL!="string")throw new Error("Dispatcher#adjustURL: controller for "+(""+this.currentControllerName+" does not provide a historyURL"));n=e.historyURL}return t.changeURL&&s.publish("!router:changeURL",n),this.url=n},n.prototype.disposed=!1,n.prototype.dispose=function(){if(this.disposed)return;return this.unsubscribeAllEvents(),this.disposed=!0,typeof Object.freeze=="function"?Object.freeze(this):void 0},n}()});var __bind=function(e,t){return function(){return e.apply(t,arguments)}};define("core/views/layout",["underscore","backbone","core/mediator","core/lib/utils","core/lib/subscriber","core/lib/logger"],function(){var e,t,n,r,i,s,o;return o=require("underscore"),e=require("backbone"),i=require("core/mediator"),s=require("core/lib/utils"),r=require("core/lib/subscriber"),n=require("core/lib/logger"),t=function(){function t(){this.openLink=__bind(this.openLink,this),this.initialize.apply(this,arguments)}return t.extend=e.Model.extend,o(t.prototype).extend(r),o(t.prototype).extend(n),t.prototype.title="",t.prototype.events={},t.prototype.el=document,t.prototype.$el=$(document),t.prototype.cid="chaplin-layout",t.prototype.initialize=function(e){e==null&&(e={}),this.title=e.title,this.settings=o(e).defaults({routeLinks:!0,scrollTo:[0,0]}),this.subscribeEvent("beforeControllerDispose",this.hideOldView),this.subscribeEvent("startupController",this.showNewView),this.subscribeEvent("startupController",this.adjustTitle),this.delegateEvents();if(this.settings.routeLinks)return this.initLinkRouting()},t.prototype.undelegateEvents=e.View.prototype.undelegateEvents,t.prototype.delegateEvents=e.View.prototype.delegateEvents,t.prototype.hideOldView=function(e){var t,n;this.log("Hiding old view"),t=this.settings.scrollTo,t&&window.scrollTo(t[0],t[1]),n=e.view;if(n)return n.$el.css("display","none")},t.prototype.showNewView=function(e){var t;this.log("Displaying new view"),t=e.controller.view;if(t)return t.$el.css({display:"block",opacity:1,visibility:"visible"})},t.prototype.adjustTitle=function(e){var t,n;return n=this.title,t=e.controller.title,t&&(n=""+t+" – "+n),setTimeout(function(){return document.title=n},50)},t.prototype.initLinkRouting=function(){return $(document).on("click",".go-to",this.goToHandler).on("click","a",this.openLink)},t.prototype.stopLinkRouting=function(){return $(document).off("click",".go-to",this.goToHandler).off("click","a",this.openLink)},t.prototype.openLink=function(e){var t,n,r,o,u,a;if(s.modifierKeyPressed(e))return;r=e.currentTarget,t=$(r),u=t.attr("href");if(u===""||u===void 0||u.charAt(0)==="#"||t.hasClass("noscript"))return;n=location.hostname.replace(".","\\."),o=r.hostname!==""&&!RegExp(""+n+"$","i").test(r.hostname);if(o)return;return a=r.pathname+r.search,a.charAt(0)!=="/"&&(a="/"+a),i.publish("!router:route",a,function(t){if(t)return e.preventDefault()})},t.prototype.goToHandler=function(e){var t,n;t=e.currentTarget;if(e.nodeName==="A")return;n=$(t).data("href");if(!n)return;return i.publish("!router:route",n,function(t){return t?e.preventDefault():location.href=n})},t.prototype.disposed=!1,t.prototype.dispose=function(){if(this.disposed)return;return this.stopLinkRouting(),this.unsubscribeAllEvents(),this.undelegateEvents(),delete this.title,this.disposed=!0,typeof Object.freeze=="function"?Object.freeze(this):void 0},t}()});var __hasProp={}.hasOwnProperty;define("core/controllers/controller",["underscore","backbone","core/mediator","core/lib/subscriber","core/lib/logger"],function(){var e,t,n,r,i,s;return s=require("underscore"),e=require("backbone"),i=require("core/mediator"),r=require("core/lib/subscriber"),n=require("core/lib/logger"),t=function(){function t(){this.initialize.apply(this,arguments)}return t.extend=e.Model.extend,s(t.prototype).extend(r),s(t.prototype).extend(n),t.prototype.view=null,t.prototype.currentId=null,t.prototype.redirected=!1,t.prototype.initialize=function(){return this.log("Initializing controller")},t.prototype.redirectTo=function(e,t,n){return this.log("Redirecting to path '"+e+"' and action '"+t+"'"),this.redirected=!0,arguments.length===1?i.publish("!router:route",e,function(e){if(!e)throw new Error("Controller#redirectTo: no route matched")}):i.publish("!startupController",e,t,n)},t.prototype.disposed=!1,t.prototype.dispose=function(){var e,t,n,r,i;this.log("Disposing controller");if(this.disposed)return;for(t in this){if(!__hasProp.call(this,t))continue;e=this[t],e&&typeof e.dispose=="function"&&(e.dispose(),delete this[t])}this.unsubscribeAllEvents(),n=["currentId","redirected"];for(r=0,i=n.length;r<i;r++)t=n[r],delete this[t];return this.disposed=!0,typeof Object.freeze=="function"?Object.freeze(this):void 0},t}()});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty;define("core/lib/route",["underscore","backbone","core/mediator","core/session","core/controllers/controller","core/lib/logger"],function(e,t,n,r,i,s){var o;return o=function(){function l(t,n,r){var s;this.options=r!=null?r:{},this.handler=__bind(this.handler,this),this.addParamName=__bind(this.addParamName,this),this.pattern=t,s=n.split("#"),this.controller=s[0],this.action=s[1];if(e(i.prototype).has(this.action))throw new Error("Route: You should not use existing controller properties as action names");this.createRegExp()}var o,u,a,f;return l.extend=t.Model.extend,e(l.prototype).extend(s),f=["path","changeURL"],o=/[-[\]{}()+?.,\\^$|#\s]/g,u="&",a="=",l.prototype.logPrefix="Route",l.prototype.createRegExp=function(){var t;if(e.isRegExp(this.pattern)){this.regExp=this.pattern;return}return t=this.pattern.replace(o,"\\$&").replace(/:(\w+)/g,this.addParamName),this.regExp=RegExp("^"+t+"(?=\\?|$)")},l.prototype.addParamName=function(t,n){var r;(r=this.paramNames)==null&&(this.paramNames=[]);if(e(f).include(n))throw new Error("Route#addParamName: parameter name "+n+" is reserved");return this.paramNames.push(n),"([^/?]+)"},l.prototype.test=function(e){var t,n,r,i,s;r=this.regExp.test(e);if(!r)return!1;n=this.options.constraints;if(n){s=this.extractParams(e);for(i in n){if(!__hasProp.call(n,i))continue;t=n[i];if(!t.test(s[i]))return!1}}return!0},l.prototype.handler=function(e,t){var i,s;return this.log("Route handled: path '"+e+"'"),i=this.buildParams(e,t),s=this.options.permissions,s&&!r.user.checkAccess(s)?(n.publish("!router:changeURL","!/site/error/550"),!1):n.publish("matchRoute",this,i)},l.prototype.buildParams=function(t,n){var r,i,s;return r={},s=this.extractQueryParams(t),e(r).extend(s),i=this.extractParams(t),e(r).extend(i),e(r).extend(this.options.params),r.changeURL=Boolean(n&&n.changeURL),r.path=t,r},l.prototype.extractParams=function(e){var t,n,r,i,s,o,u,a;s={},r=this.regExp.exec(e),a=r.slice(1);for(t=o=0,u=a.length;o<u;t=++o)n=a[t],i=this.paramNames?this.paramNames[t]:t,s[i]=n;return s},l.prototype.extractQueryParams=function(e){var t,n,r,i,s,o,f,l,c,h,p,d;o={},l=/\?(.+?)(?=#|$)/,r=l.exec(e);if(!r)return o;f=r[1],s=f.split(u);for(h=0,p=s.length;h<p;h++){i=s[h];if(!i.length)continue;d=i.split(a),n=d[0],c=d[1];if(!n.length)continue;n=decodeURIComponent(n),c=decodeURIComponent(c),t=o[n],t?t.push?t.push(c):o[n]=[t,c]:o[n]=c}return o},l.prototype.toString=function(){return"Route( pattern:'"+this.pattern+"', controller:'"+this.controller+"', action:'"+this.action+"' )"},l}()});var __bind=function(e,t){return function(){return e.apply(t,arguments)}};define("core/lib/router",["underscore","backbone","core/mediator","core/session","core/lib/subscriber","core/lib/route","core/lib/logger"],function(){var e,t,n,r,i,s,o,u;return u=require("underscore"),e=require("backbone"),s=require("core/mediator"),o=require("core/session"),i=require("core/lib/subscriber"),n=require("core/lib/route"),t=require("core/lib/logger"),r=function(){function r(e){this.options=e!=null?e:{},this.route=__bind(this.route,this),this.match=__bind(this.match,this),this.log("Constructing new Router"),u(this.options).defaults({pushState:!1}),this.subscribeEvent("!router:route",this.routeHandler),this.subscribeEvent("!router:changeURL",this.changeURLHandler),this.createHistory()}return r.extend=e.Model.extend,u(r.prototype).extend(i),u(r.prototype).extend(t),r.prototype.logPrefix="Router",r.prototype.createHistory=function(){return this.log("Constructing Backbone.History"),e.history||(e.history=new e.History)},r.prototype.startHistory=function(){return this.log("Starting history"),e.history.start(this.options)},r.prototype.stopHistory=function(){if(e.History.started)return e.history.stop()},r.prototype.match=function(t,r,i){var s;return i==null&&(i={}),this.log("Adding matcher for pattern '"+t+"' to target '"+r+"'"),s=new n(t,r,i),e.history.handlers.push({route:s,callback:s.handler})},r.prototype.route=function(t){var n,r,i,s;this.log("Routing application to '"+t+"'"),t=t.replace(/^(\/#|\/)/,""),s=e.history.handlers;for(r=0,i=s.length;r<i;r++){n=s[r];if(n.route.test(t))return n.callback(t,{changeURL:!0}),!0}return!1},r.prototype.routeHandler=function(e,t){var n;return this.log("Route handled: path '"+e+"'"),n=this.route(e),typeof t=="function"?t(n):void 0},r.prototype.changeURL=function(t){return this.log("Changing url to '"+t+"'"),e.history.navigate(t,{trigger:!1})},r.prototype.changeURLHandler=function(e){return this.changeURL(e)},r.prototype.disposed=!1,r.prototype.dispose=function(){if(this.disposed)return;return this.stopHistory(),delete e.history,this.unsubscribeAllEvents(),this.disposed=!0,typeof Object.freeze=="function"?Object.freeze(this):void 0},r}()}),define("core/application",["backbone","core/mediator","core/session","core/dispatcher","core/views/layout","core/lib/router","core/lib/logger"],function(){var e,t,n,r,i,s,o,u;return t=require("backbone"),o=require("core/mediator"),u=require("core/session"),n=require("core/dispatcher"),r=require("core/views/layout"),s=require("core/lib/router"),i=require("core/lib/logger"),e=function(){function e(e){e==null&&(e={}),this.initialize(e)}return e.extend=t.Model.extend,_(e.prototype).extend(i),e.prototype.title="",e.prototype.dispatcher=null,e.prototype.layout=null,e.prototype.router=null,e.prototype.initialize=function(e){return this.log("Initializing application"),this.initDispatcher(e),this.initLayout(e)},e.prototype.initDispatcher=function(e){return this.dispatcher=new n(e)},e.prototype.initLayout=function(e){var t;return e==null&&(e={}),this.log("Initializing layout"),(t=e.title)==null&&(e.title=this.title),this.layout=new r(e)},e.prototype.initRouter=function(e,t){return this.log("Initializing router"),this.router=new s(t),typeof e=="function"&&e(this.router.match),this.router.startHistory()},e.prototype.disposed=!1,e.prototype.dispose=function(){var e,t,n,r;if(this.disposed)return;t=["dispatcher","layout","router"];for(n=0,r=t.length;n<r;n++){e=t[n];if(this[e]==null)continue;this[e].dispose(),delete this[e]}return this.disposed=!0,typeof Object.freeze=="function"?Object.freeze(this):void 0},e}()}),define("core/webuser",["core/lib/support"],function(){var e,t;return e=require("core/lib/support"),t=function(){function e(e){this.permissoes=e!=null?e:[],this.isGuest=!0}return e.prototype.nome="Guest",e.prototype.checkAccess=function(e){var t,n,r,i,s,o=this;t=!1;if(!_.isArray(e))throw new Error("permissoes should be an array of permissoes");if(e.length===0)return t=!0;n=function(e){if(_.indexOf(o.permissoes,e)!==-1){t=!0;return}return t=!1};for(i=0,s=e.length;i<s;i++)r=e[i],n(r);return t},e.prototype.getName=function(){return this.name},e.prototype.authenticate=function(e){return this.isGuest=!1,_.extend(this,e),this.freeze()},e.prototype.freeze=function(){return typeof Object.freeze=="function"?Object.freeze(this):void 0},e}()});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/sesc_application",["backbone","core/application","core/lib/support","core/lib/utils","core/mediator","core/webuser"],function(){var e,t,n,r,i,s,o,u,a;return e=require("backbone"),t=require("core/application"),o=require("core/lib/support"),u=require("core/lib/utils"),s=require("core/session"),a=require("core/webuser"),r=require("core/mediator"),n=require("core/feedback"),i=function(t){function i(e,t){this.systemId=e,this.title=t;if(this.systemId==null)throw new Error("You forget to specify the systemId for this application");if(this.title==null)throw new Error("You forget to specify a title for the application");this.logPrefix="App:"+this.title,this.overrideSync(),this.initialize()}return __extends(i,t),i.prototype.systemId=null,i.prototype.title="",i.prototype.overrideSync=function(){if(e===void 0)throw new Error("Backbone not found. Did you included the library on your document?");return e.sync=function(e,t,i){var s,o,u,a,f,l,c,h=this;return u={create:"POST",update:"PUT","delete":"DELETE",read:"GET"},o=function(e,t){return!e||!e[t]?null:_.isFunction(e[t])?e[t]():e[t]},c=function(){throw new Error('A "url" property or function must be specified')},l=u[e],i||(i={}),a={type:l,dataType:"json",cache:!1,complete:function(){return $("#application-loading").remove()}},!i.data&&t&&(e==="create"||e==="update")&&(a.contentType="application/x-www-form-urlencoded",a.traditional=!0,a.data=t.toJSON()),i.url||(a.url=o(t,"url")||c()),l==="DELETE"&&(a.data||(a.data={}),a.data._method=l,a.type="POST",a.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",l)}),f=$.Deferred(),s=$.ajax(_.extend(a,i)),s.error(function(e){var t,i;return e.status===420?r.publish("session:expired"):e.status===500?r.publish("service:error"):(t=e.getResponseHeader("Content-Type"),e.status!==404||!!t&&t.indexOf("application/json")!==-1?(i=$.parseJSON(e.responseText),n.error(i.erro.message)):n.error("Página não encontrada")),f.reject.apply(this,arguments)}),s.done(function(e,t,n){return f.resolve.apply(h,arguments)}),f}},i.prototype.initialize=function(){return this.initSession()},i.prototype.initLayout=function(){},i.prototype.initSession=function(){var e,t=this;this.log("Creating application session"),e=this.getUserOperation();if(!u.isDeferred(e))throw new Error("O método 'getUserOperation' deve retornar um deferred object do jQuery.");return e.done(function(e,n,i){return s.user=t.getUserObject(e),u.readonly(s,"user"),typeof Object.freeze=="function"&&Object.freeze(s),t.initLayout(),r.publish("userAuthenticated",s.user),t.initDispatcher(),t.initRouter(t.routes)})},i.prototype.getUserOperation=function(){return $.ajax({url:"service/usuario"})},i.prototype.getUserObject=function(e){var t;return t=new a,t.authenticate(e),t},i}(t)}),define("core/feedback",[],function(){var e;return e={defaults:{layout:"center",theme:"noty_theme_twitter",animateOpen:{height:"toggle"},animateClose:{height:"toggle"},speed:500,timeout:0,closeButton:!0,closeOnSelfClick:!1,closeOnSelfOver:!1,modal:!1},set:function(e,t,n){n==null&&(n={});if(typeof noty=="undefined"||noty===null)return;return _.defaults(n,this.defaults),$.noty.closeAll(),$.noty(_.extend(n,{text:e,type:t}))},success:function(e){return this.set(e,"success")},info:function(e){return this.set(e,"info")},error:function(e){return this.set(e,"error")},closeAll:function(){return $.noty.closeAll()}}});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/controllers/crud_controller",["core/controllers/controller"],function(e){var t;return e=require("core/controllers/controller"),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.listView=null,t.prototype.createView=null,t.prototype.editView=null,t.prototype.collectionClass=null,t.prototype.modelClass=null,t.prototype.indexTitle="Listagem",t.prototype.createTitle="Criando",t.prototype.editTitle="Editando",t.prototype.initialize=function(){var e,n,r,i,s;t.__super__.initialize.apply(this,arguments),i=["listView","createView","editView","collectionClass","modelClass"],s=[];for(n=0,r=i.length;n<r;n++){e=i[n];if(e==null)throw new Error("A propriedade '"+e+"' deve ser preenchida");s.push(void 0)}return s},t.prototype.index=function(e){var t;return this.title=this.indexTitle,this.indexSubTitle&&(this.subTitle=this.indexSubTitle),this.breadcrumb=[{label:this.indexTitle}],t=new this.collectionClass,this.view=new this.listView({collection:t})},t.prototype.edit=function(e){var t,n=this;return this.title=this.editTitle,this.editSubTitle&&(this.subTitle=this.editSubTitle),this.breadcrumb=[{label:this.indexTitle,url:"#"+this.historyURL()},{label:this.title}],t=new this.modelClass({id:e.id}),this.view=new this.editView({model:t}),this.view.on("model:saved",function(){return n.redirectTo(n.historyURL())})},t.prototype.create=function(e){var t,n=this;return this.title=this.createTitle,this.createSubTitle&&(this.subTitle=this.createSubTitle),this.breadcrumb=[{label:this.indexTitle,url:"#"+this.historyURL()},{label:this.title}],t=new this.modelClass,this.view=new this.createView({model:t}),this.view.on("model:saved",function(){return n.redirectTo(n.historyURL())})},t}(e)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/controllers/crud_details_controller",["core/controllers/controller"],function(e){var t;return e=require("core/controllers/controller"),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.listView=null,t.prototype.createView=null,t.prototype.editView=null,t.prototype.collectionClass=null,t.prototype.modelClass=null,t.prototype.indexTitle="Listagem",t.prototype.createTitle="Criando",t.prototype.editTitle="Editando",t.prototype.initialize=function(){var e,n,r,i,s;t.__super__.initialize.apply(this,arguments),i=["listView","createView","editView","collectionClass","modelClass"],s=[];for(n=0,r=i.length;n<r;n++){e=i[n];if(e==null)throw new Error("A propriedade '"+e+"' deve ser preenchida");s.push(void 0)}return s},t.prototype.index=function(e){var t;return this.breadcrumb=[{label:this.indexTitle}],this.title=this.indexTitle,t=new this.collectionClass,this.view=new this.listView({collection:t})},t.prototype.edit=function(e){var t,n=this;return this.title=this.editTitle,this.breadcrumb=[{label:this.indexTitle,url:"#"+this.historyURL()},{label:this.title}],t=new this.modelClass({id:e.id}),this.view=new this.editView({model:t}),this.view.on("model:saved",function(){return n.redirectTo(n.historyURL())})},t.prototype.create=function(e){var t,n=this;return this.title=this.createTitle,this.breadcrumb=[{label:this.indexTitle,url:"#"+this.historyURL()},{label:this.title}],t=new this.modelClass,this.view=new this.createView({model:t}),this.view.on("model:saved",function(){return n.redirectTo(n.historyURL())})},t}(e)}),define("core/lib/sync_machine",[],function(){var e,t,n,r,i,s,o,u,a,f;i="unsynced",n="syncing",t="synced",e="syncStateChange",r={_syncState:i,_previousSyncState:null,syncState:function(){return this._syncState},isUnsynced:function(){return this._syncState===i},isSynced:function(){return this._syncState===t},isSyncing:function(){return this._syncState===n},unsync:function(){var r;if((r=this._syncState)===n||r===t)this._previousSync=this._syncState,this._syncState=i,this.trigger(this._syncState,this,this._syncState),this.trigger(e,this,this._syncState)},beginSync:function(){var r;if((r=this._syncState)===i||r===t)this._previousSync=this._syncState,this._syncState=n,this.trigger(this._syncState,this,this._syncState),this.trigger(e,this,this._syncState)},finishSync:function(){this._syncState===n&&(this._previousSync=this._syncState,this._syncState=t,this.trigger(this._syncState,this,this._syncState),this.trigger(e,this,this._syncState))},abortSync:function(){this._syncState===n&&(this._syncState=this._previousSync,this._previousSync=this._syncState,this.trigger(this._syncState,this,this._syncState),this.trigger(e,this,this._syncState))}},f=[i,n,t,e],o=function(e){return r[e]=function(t,n){n==null&&(n=this),this.on(e,t,n);if(this._syncState===e)return t.call(n)}};for(u=0,a=f.length;u<a;u++)s=f[u],o(s);return typeof Object.freeze=="function"&&Object.freeze(r),r});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};define("core/models/model",["underscore","backbone","core/lib/utils","core/lib/subscriber","core/lib/sync_machine"],function(){var e,t,n,r,i,s;return s=require("underscore"),e=require("backbone"),i=require("core/lib/utils"),n=require("core/lib/subscriber"),r=require("core/lib/sync_machine"),t=function(t){function u(){return u.__super__.constructor.apply(this,arguments)}var o;return __extends(u,t),s(u.prototype).extend(n),u.prototype.initDeferred=function(){return s(this).extend($.Deferred())},u.prototype.initSyncMachine=function(){return s(this).extend(r)},u.prototype.getAttributes=function(){return this.attributes},o=function(t,n,r){var s,a,f,l;r?r.push(t):(s=i.beget(n),r=[t]);for(f in n)l=n[f],l instanceof u?(s==null&&(s=i.beget(n)),s[f]=l===t||__indexOf.call(r,l)>=0?null:o(l,l.getAttributes(),r)):l instanceof e.Collection&&(s==null&&(s=i.beget(n)),s[f]=function(){var e,t,n,i;n=l.models,i=[];for(e=0,t=n.length;e<t;e++)a=n[e],i.push(o(a,a.getAttributes(),r));return i}());return r.pop(),s||n},u.prototype.serialize=function(){return o(this,this.getAttributes())},u.prototype.saveAsJSON=function(){var t,n,r,i,s=this;return n=this.toJSON(),r=$.Deferred(),i=this.id!=null?"update":"create",t=e.sync(i,this,{url:this.url(),dataType:"json",contentType:"application/json; charset=UTF-8",data:window.JSON.stringify(n)}),t.fail(function(){return r.reject.apply(s,arguments)}).done(function(e,t,n){return r.resolve.apply(s,[e,n])}),r},u.prototype.disposed=!1,u.prototype.dispose=function(){var e,t,n,r;if(this.disposed)return;this.trigger("dispose",this),this.unsubscribeAllEvents(),this.off(),typeof this.reject=="function"&&this.reject(),t=["collection","attributes","changed","_escapedAttributes","_previousAttributes","_silent","_pending","_callbacks"];for(n=0,r=t.length;n<r;n++)e=t[n],delete this[e];return this.disposed=!0,typeof Object.freeze=="function"?Object.freeze(this):void 0},u}(e.Model)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/models/collection",["underscore","backbone","core/lib/subscriber","core/lib/sync_machine","core/models/model"],function(){var e,t,n,r,i,s;return s=require("underscore"),e=require("backbone"),r=require("core/lib/subscriber"),i=require("core/lib/sync_machine"),n=require("core/models/model"),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),s(t.prototype).extend(r),t.prototype.model=n,t.prototype.initDeferred=function(){return s(this).extend($.Deferred())},t.prototype.initSyncMachine=function(){return s(this).extend(i)},t.prototype.addAtomic=function(e,t){var n,r;t==null&&(t={});if(!e.length)return;t.silent=!0,n=typeof t.at=="number"?"pop":"shift";while(r=e[n]())this.add(r,t);return this.trigger("reset")},t.prototype.update=function(e,t){var n,r,i,o,u,a,f,l,c;t==null&&(t={}),n=this.pluck("id").join(),i=s(e).pluck("id"),u=i.join();if(u!==n){l=s(i),r=this.models.length;while(r--)o=this.models[r],l.include(o.id)||this.remove(o)}if(u!==n||t.deep)for(r=f=0,c=e.length;f<c;r=++f)o=e[r],a=this.get(o.id),a?t.deep&&a.set(o):this.add(o,{at:r})},t.prototype.disposed=!1,t.prototype.dispose=function(){var e,t,n,r;if(this.disposed)return;this.trigger("dispose",this),this.reset([],{silent:!0}),this.unsubscribeAllEvents(),this.off(),typeof this.reject=="function"&&this.reject(),t=["model","models","_byId","_byCid","_callbacks"];for(n=0,r=t.length;n<r;n++)e=t[n],delete this[e];return this.disposed=!0,typeof Object.freeze=="function"?Object.freeze(this):void 0},t}(e.Collection)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/models/sync_collection",["core/models/collection"],function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.initSyncMachine()},t.prototype.sync=function(e,t,n){var r=this;return n==null&&(n=[]),this.beginSync(),Backbone.sync(e,t,n).always(function(){return r.finishSync()})},t}(e)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/models/navigation_model",["core/models/model","core/session"],function(){var e,t,n;return e=require("core/models/model"),n=require("core/session"),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.navigation={items:[]},t.prototype.createNavigationItem=function(e,t,n){return n==null&&(n=[]),{label:e,url:t,permissions:n}},t.prototype.addItem=function(e,t,n){var r,i,s=this;return n==null&&(n=[]),i=this.createNavigationItem(e,t,n),this.navigation.items.push(i),r={addSubItem:function(e,t,n){var o;return n==null&&(n=[]),i.items==null&&(i.items=[]),o=s.createNavigationItem(e,t,n),o.parent=i,i.items.push(o),r}}},t.prototype.findItemByPath=function(e,t){var n=this;return t==null&&(t=this.navigation.items),_.find(t,function(t){var r;if(t.url===e)return!0;if(t.items!=null){r=n.findItemByPath(e,t.items);if(r!=null)return[t,r]}})},t.prototype.getNavigation=function(e){return e==null&&(e={}),_.defaults(e,{filtered:!0}),e.filtered?this.filterNavigationItems(this.navigation.items):this.navigation.items},t.prototype.filterNavigationItems=function(e){var t=this;return _.filter(e,function(e){var r;return e.items!=null&&(e.items=t.filterNavigationItems(e.items)),e.permissions==null?!0:(r=n.user.checkAccess(e.permissions),r)})},t}(e)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/view",["underscore","backbone","handlebars","core/lib/utils","core/lib/subscriber","core/lib/logger","core/models/model"],function(){var e,t,n,r,i,s,o,u;return u=require("underscore"),e=require("backbone"),t=require("handlebars"),o=require("core/lib/utils"),i=require("core/lib/subscriber"),n=require("core/lib/logger"),r=require("core/models/model"),s=function(e){function r(){this.initialize!==r.prototype.initialize&&this.wrapMethod("initialize"),this.render!==r.prototype.render?this.wrapMethod("render"):this.render=u(this.render).bind(this),r.__super__.constructor.apply(this,arguments)}return __extends(r,e),u(r.prototype).extend(i),u(r.prototype).extend(n),r.prototype.autoRender=!1,r.prototype.container=null,r.prototype.containerMethod="append",r.prototype.subviews=null,r.prototype.subviewsByName=null,r.prototype.wrapMethod=function(e){var t,n;return n=this,t=n[e],n[""+e+"IsWrapped"]=!0,n[e]=function(){return this.disposed?!1:(t.apply(n,arguments),n["after"+o.upcase(e)].apply(n,arguments),n)}},r.prototype.initialize=function(e){var t,n,r,i;if(e){i=["autoRender","container","containerMethod"];for(n=0,r=i.length;n<r;n++)t=i[n],e[t]!=null&&(this[t]=e[t])}this.subviews=[],this.subviewsByName={},(this.model||this.collection)&&this.modelBind("dispose",this.dispose);if(!this.initializeIsWrapped)return this.afterInitialize()},r.prototype.afterInitialize=function(){if(this.autoRender)return this.render()},r.prototype.delegate=function(e,t,n){var r,i;if(typeof e!="string")throw new TypeError("View#delegate: first argument must be a string");if(arguments.length===2)r=t;else{if(arguments.length!==3)throw new TypeError("View#delegate: only two or three arguments are allowed");i=t;if(typeof i!="string")throw new TypeError("View#delegate: second argument must be a string");r=n}if(typeof r!="function")throw new TypeError("View#delegate: handler argument must be function");return e+=".delegate"+this.cid,r=u(r).bind(this),i?this.$el.on(e,i,r):this.$el.on(e,r),r},r.prototype.undelegate=function(){return this.$el.unbind(".delegate"+this.cid)},r.prototype.modelBind=function(e,t){var n;if(typeof e!="string")throw new TypeError("View#modelBind: type must be a string");if(typeof t!="function")throw new TypeError("View#modelBind: handler argument must be function");n=this.model||this.collection;if(!n)throw new TypeError("View#modelBind: no model or collection set");return n.off(e,t,this),n.on(e,t,this)},r.prototype.modelUnbind=function(e,t){var n;if(typeof e!="string")throw new TypeError("View#modelUnbind: type argument must be a string");if(typeof t!="function")throw new TypeError("View#modelUnbind: handler argument must be a function");n=this.model||this.collection;if(!n)return;return n.off(e,t)},r.prototype.modelUnbindAll=function(){var e;e=this.model||this.collection;if(!e)return;return e.off(null,null,this)},r.prototype.pass=function(e,t){var n=this;return this.modelBind("change:"+e,function(e,r){var i;return i=n.$(t),i.is("input, textarea, select, button")?i.val(r):i.text(r)})},r.prototype.subview=function(e,t){if(e&&t)return this.removeSubview(e),this.subviews.push(t),this.subviewsByName[e]=t,t;if(e)return this.subviewsByName[e]},r.prototype.removeSubview=function(e){var t,n,r,i,s,o;if(!e)return;if(typeof e=="string")n=e,s=this.subviewsByName[n];else{s=e,o=this.subviewsByName;for(r in o){i=o[r];if(s===i){n=r;break}}}if(!(n&&s&&s.dispose))return;return s.dispose(),t=u(this.subviews).indexOf(s),t>-1&&this.subviews.splice(t,1),delete this.subviewsByName[n]},r.prototype.getTemplateData=function(){var e,t,n,r,i,s,o;if(this.model)r=this.model.serialize();else if(this.collection){e=[],o=this.collection.models;for(i=0,s=o.length;i<s;i++)t=o[i],e.push(t.serialize());r={items:e}}else r={};return n=this.model||this.collection,n&&(typeof n.state=="function"&&!("resolved"in r)&&(r.resolved=n.state()==="resolved"),typeof n.isSynced=="function"&&!("synced"in r)&&(r.synced=n.isSynced())),r},r.prototype.getTemplateFunction=function(e){var n;return u.isString(this.template)?(typeof JST!="undefined"&&JST!==null?JST[this.template]:void 0)?n=JST[this.template]:n=this.constructor.prototype.template=t.compile(this.template):this.template!=null&&(n=u.bind(this.template,this)),n},r.prototype.render=function(){var e,t,n,r;return this.disposed?!1:(r=this.getTemplateFunction(),typeof r=="function"&&(t=r(this.getTemplateData()),this.$el.empty().append(t)),this.helpContent!=null&&(n=this.model||this.collection,e=this.helpContent.apply(this,[n]),e=this.helpPreContent+e+this.helpPostContent,this.$el.append(e)),this.renderIsWrapped||this.afterRender(),this)},r.prototype.hasHelp=function(){return this.helpContent!=null},r.prototype.helpPreContent='<div class="modal hide" id="helpModal">\n  <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal">×</button>\n      <h3>Ajuda</h3>\n  </div>\n  <div class="modal-body">',r.prototype.helpPostContent='    </div>\n    <div class="modal-footer">\n        <a href="#" class="btn" data-dismiss="modal">Fechar</a>\n    </div>\n</div>',r.prototype.afterRender=function(){if(this.container)return $(this.container)[this.containerMethod](this.el),this.trigger("addedToDOM")},r.prototype.getError=function(e){var t;return t=$.parseJSON(e.responseText),{message:t.erro.message,code:t.erro.code,status:t.status}},r.prototype.disposed=!1,r.prototype.dispose=function(){var e,t,n,r,i,s,o,u;if(this.disposed)return;u=this.subviews;for(r=0,s=u.length;r<s;r++)n=u[r],n.dispose();this.unsubscribeAllEvents(),this.modelUnbindAll(),this.off(),this.$el.remove(),t=["el","$el","options","model","collection","subviews","subviewsByName","_callbacks"];for(i=0,o=t.length;i<o;i++)e=t[i],delete this[e];return this.disposed=!0,typeof Object.freeze=="function"?Object.freeze(this):void 0},r}(e.View)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/breadcrumb_view",["core/views/view","handlebars"],function(){var e,t,n;return n=require("core/views/view"),t=require("handlebars"),e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template='{{#if items}}\n<ul class="breadcrumb">\n  <li>\n    <a href="#">Página inicial</a>\n    <span class="divider">»</span>\n  </li>\n  {{#each items}}\n    {{#unless this.url}}\n    <li class="active">\n      {{this.label}}\n      <span class="divider">»</span>\n    </li>\n    {{else}}\n    <li>\n      <a href="{{this.url}}">{{this.label}}</a>\n      <span class="divider">»</span>\n    </li>\n    {{/unless}}\n  {{/each}}\n</ul>\n{{/if}}',n.prototype.initialize=function(e){return n.__super__.initialize.apply(this,arguments),this.template=t.compile(this.template),this.model=e.navigationModel,this.subscribeEvent("startupController",this.onControllerStartup)},n.prototype.onControllerStartup=function(e){return this.breadcrumbData=e.controller.breadcrumb,this.render()},n.prototype.render=function(){var e,t;return n.__super__.render.apply(this,arguments),t={items:this.breadcrumbData},e=this.template(t),e=$(e),e.find("li:last-child .divider").remove(),this.$el.append(e)},n}(n)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/navigation_view",["core/views/view","core/models/navigation_model","handlebars"],function(){var e,t,n,r;return r=require("core/views/view"),t=require("core/models/navigation_model"),e=require("handlebars"),n=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,n),r.prototype.navigationTemplate='<ul class="nav">\n  {{#each items}}\n    {{#if this.items}}\n      <li class="dropdown">\n        <a href class="dropdown-toggle" data-toggle="dropdown">\n          {{this.label}}\n          <b class="caret"></b>\n        </a>\n        <ul class="dropdown-menu">\n          {{#each this.items}}\n            <li><a href="{{this.url}}">{{this.label}}</a></li>\n          {{/each}}\n        </ul>\n      </li>\n    {{else}}\n      <li><a href="{{this.url}}">{{this.label}}</a></li>\n    {{/if}}\n  {{/each}}\n</ul>',r.prototype.initialize=function(n){r.__super__.initialize.apply(this,arguments);if(n.navigationModel==null&&n.navigationModel(isPrototypeOf(t))!==!1)throw new Error("The class NavigationView needs a NavigationModel instance to work properly");return this.model=n.navigationModel,this.navigationTemplate=e.compile(this.navigationTemplate)},r.prototype.render=function(){var e;return r.__super__.render.apply(this,arguments),e=this.navigationTemplate({items:this.model.getNavigation()}),this.$el.html(e)},r}(r)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/sesc_layout",["core/views/layout","core/views/breadcrumb_view","core/views/navigation_view","core/models/navigation_model"],function(){var e,t,n,r,i,s,o;return t=require("handlebars"),n=require("core/views/layout"),e=require("core/views/breadcrumb_view"),i=require("core/views/navigation_view"),r=require("core/models/navigation_model"),o=require("core/session"),s=function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return __extends(s,n),s.prototype.template='<div class="application-navbar navbar">\n  <div class="navbar-inner">\n    <div class="container">\n      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </a>\n      <a class="brand" href="#">App</a>\n      <ul class="nav account-nav pull-right">\n        <li class="dropdown">\n          <a href="#" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon-white icon-user"></i>\n            <span class="logged-user">{{user.nome}}</span> <b class="caret"></b>\n          </a>\n          <ul class="dropdown-menu">\n            <li>\n              <a href="#">Sair</a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n      <div class="nav-collapse nav-container">\n        <ul class="nav"></ul>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="page-header">\n  <div class="container">\n    <div class="page-header-options">\n      <div class="btn-group">\n        <button href="#" class="btn print-page"> <i class="icon-print" />Imprimir\n        </button>\n        <button class="btn btn-help" data-toggle="modal" href="#helpModal">\n          <i class="icon-question-sign" />Ajuda\n        </button>\n      </div>\n    </div>\n    <div class="breadcrumb-container"></div>\n    <h1></h1>\n  </div>\n</div>\n<div id="application" class="container">\n  <div id="module-container"></div>\n</div>',s.prototype.navigationModelClass=r,s.prototype.breadcrumbView=e,s.prototype.navigationView=i,s.prototype.breadcrumContainerSelector=".breadcrumb-container",s.prototype.navigationContainerSelector=".nav-container",s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.subscribeEvent("startupController",this.updateHelp),this.subscribeEvent("startupController",this.updateTitle),this.subscribeEvent("startupController",this.activeNavigationItem),this.subscribeEvent("userAuthenticated",this.updateUser),this.render()},s.prototype.activeNavigationItem=function(e){var t,n,r,i,s,o;i=(e!=null?(s=e.params)!=null?s.path:void 0:void 0)||"",n=(o=this.navigationView)!=null?o.$el:void 0,r="active",t=n!=null?n.find("[href='#"+i+"']"||[]):void 0,n.find("li."+r).removeClass(""+r);if(t.length)return t.parents("li").addClass(""+r)},s.prototype.updateUser=function(){return this.$el.find(".logged-user").text(o.user.name)},s.prototype.updateHelp=function(e){var t;return t=this.layoutEl.find(".btn-help"),e.controller.view.helpContent!=null?t.removeAttr("disabled"):t.attr("disabled","disabled")},s.prototype.updateTitle=function(e){var t,n;n=$(".page-header h1"),n.html(e.controller.title);if(e.controller.subTitle)return t=$("<small>").text(e.controller.subTitle),n.append(t)},s.prototype.render=function(){var e;return this.template=t.compile(this.template),e={user:o.user},this.layoutEl=$(this.template(e)),this.navigationModel=new this.navigationModelClass,this.breadcrumbView=new this.breadcrumbView({navigationModel:this.navigationModel}),this.layoutEl.find(this.breadcrumContainerSelector).html(this.breadcrumbView.render().el),this.navigationView=new this.navigationView({navigationModel:this.navigationModel}),this.layoutEl.find(this.navigationContainerSelector).html(this.navigationView.render().el),$(this.layoutEl).appendTo("body")},s}(n)});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/collection_view",["underscore","core/views/view"],function(){var e,t,n;return n=require("underscore"),t=require("core/views/view"),e=function(e){function t(){return this.renderAllItems=__bind(this.renderAllItems,this),this.showHideFallback=__bind(this.showHideFallback,this),this.itemsResetted=__bind(this.itemsResetted,this),this.itemRemoved=__bind(this.itemRemoved,this),this.itemAdded=__bind(this.itemAdded,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.animationDuration=500,t.prototype.useCssAnimation=!1,t.prototype.listSelector=null,t.prototype.$list=null,t.prototype.fallbackSelector=null,t.prototype.$fallback=null,t.prototype.loadingSelector=null,t.prototype.$loading=null,t.prototype.itemSelector=null,t.prototype.itemView=null,t.prototype.filterer=null,t.prototype.viewsByCid=null,t.prototype.visibleItems=null,t.prototype.getView=function(e){if(this.itemView!=null)return new this.itemView({model:e});throw new Error("The CollectionView#itemView property must bedefined (or the getView() must be overridden)")},t.prototype.getTemplateFunction=function(){},t.prototype.initialize=function(e){e==null&&(e={}),t.__super__.initialize.apply(this,arguments),n(e).defaults({render:!0,renderItems:!0,filterer:null}),e.itemView!=null&&(this.itemView=e.itemView),this.viewsByCid={},this.visibleItems=[],this.addCollectionListeners(),e.filterer&&this.filter(e.filterer),e.render&&this.render();if(e.renderItems)return this.renderAllItems()},t.prototype.addCollectionListeners=function(){return this.modelBind("add",this.itemAdded),this.modelBind("remove",this.itemRemoved),this.modelBind("reset",this.itemsResetted)},t.prototype.itemAdded=function(e,t,n){return n==null&&(n={}),this.renderAndInsertItem(e,n.index)},t.prototype.itemRemoved=function(e){return this.removeViewForItem(e)},t.prototype.itemsResetted=function(){return this.renderAllItems()},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.$list=this.listSelector?this.$(this.listSelector):this.$el,this.initFallback(),this.initLoadingIndicator()},t.prototype.initFallback=function(){if(!this.fallbackSelector)return;return this.$fallback=this.$(this.fallbackSelector),this.bind("visibilityChange",this.showHideFallback),this.modelBind("syncStateChange",this.showHideFallback)},t.prototype.showHideFallback=function(){var e;return e=this.visibleItems.length===0&&(typeof this.collection.isSynced=="function"?this.collection.isSynced():!0),this.$fallback.css("display",e?"":"none"),e},t.prototype.initLoadingIndicator=function(){if(!this.loadingSelector||typeof this.collection.isSyncing!="function")return;return this.$loading=this.$(this.loadingSelector),this.modelBind("syncStateChange",this.showHideLoadingIndicator),this.showHideLoadingIndicator()},t.prototype.showHideLoadingIndicator=function(){var e;return e=this.collection.length===0&&this.collection.isSyncing(),this.$loading.css("display",e?"":"none")},t.prototype.filter=function(e){var t,r,i,s,o,u,a;this.filterer=e;if(!n(this.viewsByCid).isEmpty()){a=this.collection.models;for(r=o=0,u=a.length;o<u;r=++o){i=a[r],t=typeof e=="function"?e(i,r):!0,s=this.viewsByCid[i.cid];if(!s)throw new Error("CollectionView#filter: "+("no view found for "+i.cid));s.$el.stop(!0,!0).css("display",t?"":"none"),this.updateVisibleItems(i,t,!1)}}return this.trigger("visibilityChange",this.visibleItems)},t.prototype.renderAllItems=function(){var e,t,n,r,i,s,o,u,a,f,l;r=this.collection.models,this.visibleItems=[],i={};for(o=0,a=r.length;o<a;o++)n=r[o],s=this.viewsByCid[n.cid],s&&(i[n.cid]=s);l=this.viewsByCid;for(e in l){if(!__hasProp.call(l,e))continue;s=l[e],e in i||this.removeView(e,s)}for(t=u=0,f=r.length;u<f;t=++u)n=r[t],s=this.viewsByCid[n.cid],s?this.insertView(n,s,t,!1):this.renderAndInsertItem(n,t);if(!r.length)return this.trigger("visibilityChange",this.visibleItems)},t.prototype.renderAndInsertItem=function(e,t){var n;return n=this.renderItem(e),this.insertView(e,n,t)},t.prototype.renderItem=function(e){var t;return t=this.viewsByCid[e.cid],t||(t=this.getView(e),this.viewsByCid[e.cid]=t),t.render(),t},t.prototype.insertView=function(e,t,n,r){var i,s,o,u,a,f,l,c,h,p=this;n==null&&(n=null),r==null&&(r=!0),c=typeof n=="number"?n:this.collection.indexOf(e),f=typeof this.filterer=="function"?this.filterer(e,c):!0,h=t.el,u=t.$el,f?r&&(this.useCssAnimation?u.addClass("animated-item-view"):u.css("opacity",0)):u.css("display","none"),i=this.$list,a=i.children(this.itemSelector||void 0),l=a.length,l===0||c===l?i.append(h):c===0?(s=a.eq(c),s.before(h)):(o=a.eq(c-1),o.after(h)),t.trigger("addedToDOM"),this.updateVisibleItems(e,f),r&&f&&(this.useCssAnimation?setTimeout(function(){return u.addClass("animated-item-view-end")},0):u.animate({opacity:1},this.animationDuration))},t.prototype.removeViewForItem=function(e){var t;return this.updateVisibleItems(e,!1),t=this.viewsByCid[e.cid],this.removeView(e.cid,t)},t.prototype.removeView=function(e,t){return t.dispose(),delete this.viewsByCid[e]},t.prototype.updateVisibleItems=function(e,t,r){var i,s,o;return r==null&&(r=!0),s=!1,o=n(this.visibleItems).indexOf(e),i=o>-1,t&&!i?(this.visibleItems.push(e),s=!0):!t&&i&&(this.visibleItems.splice(o,1),s=!0),s&&r&&this.trigger("visibilityChange",this.visibleItems),s},t.prototype.dispose=function(){var e,n,r,i,s,o,u;if(this.disposed)return;u=this.viewsByCid;for(e in u){if(!__hasProp.call(u,e))continue;i=u[e],i.dispose()}r=["$list","$fallback","$loading","viewsByCid","visibleItems"];for(s=0,o=r.length;s<o;s++)n=r[s],delete this[n];return t.__super__.dispose.apply(this,arguments)},t}(t)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/table_crud_view",["core/views/view","core/views/collection_view"],function(){var e,t,n;return n=require("core/views/view"),e=require("core/views/collection_view"),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.useCssAnimation=!0,t.prototype.headerTemplate=function(){return"<thead>\n  <tr>\n    <th>id</th>\n    <th></th>\n  </tr>\n</thead>"},t.prototype.createLabel="Adicionar",t.prototype.optionsTemplate=function(){return'<p class="clearfix">\n  <a href="'+this.createLink()+'" class="btn btn-primary pull-right">'+this.createLabel+"</a>\n</p>"},t.prototype.createLink=function(){throw new Error("createLink should be overrided")},t.prototype.emptyCollectionMessage="Nenhum resultado encontrado",t.prototype.loadingMessage="Carregando",t.prototype.applyDatatable=!0,t.prototype.template=function(){return""+this.optionsTemplate()+'\n<div class="table-crud-container" style="display: none;">\n  <table class="table table-bordered">\n    '+this.headerTemplate()+'\n    <tbody>\n    </tbody>\n  </table>\n</div>\n<p class="fallback alert">'+this.emptyCollectionMessage+'</p>\n<p class="loading" spin></p>'},t.prototype.listContainerSelector=".table-crud-container",t.prototype.listSelector="table tbody",t.prototype.loadingSelector=".loading",t.prototype.fallbackSelector=".fallback",t.prototype.getTemplateFunction=n.prototype.getTemplateFunction,t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.initListContainerFallback()},t.prototype.initListContainerFallback=function(){return this.$listContainer=this.$(this.listContainerSelector),this.modelBind("syncStateChange",this.showHideListContainer),this.bind("visibilityChange",this.showHideListContainer),this.showHideListContainer()},t.prototype.showHideListContainer=function(){var e;return e=this.collection.length!==0,this.$listContainer.css("display",e?"":"none")},t.prototype.renderAllItems=function(){t.__super__.renderAllItems.apply(this,arguments);if(this.collection.length>0)return this.redrawTable()},t.prototype.redrawTable=function(){if(this.applyDatatable&&!this.oTable)return this.oTable=this.$("table").dataTable()},t.prototype.itemRemoved=function(e){var n,r;return this.oTable&&(r=this.viewsByCid[e.cid],n=r.el,this.oTable.fnDeleteRow(n)),t.__super__.itemRemoved.apply(this,arguments)},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.collection.fetch()},t}(e)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/item_view",["core/views/view","core/feedback"],function(){var e,t,n,r;return r=require("core/views/view"),n=require("core/lib/router"),e=require("core/feedback"),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.template=function(){return'<td>{{this.id}}</td>\n<td class="text-align-center" width="80">\n    <a href="#" class="delete">Delete</a>\n    <a href="'+this.editLink()+'" class="edit">Edit</a>\n</td>'},n.prototype.editLink=function(){throw new Error("editLink should be overrided")},n.prototype.tagName="tr",n.prototype.removeConfirmMessage="Deseja remover esse registro?",n.prototype.removedMessage="Registro removido.",n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.delegate("click",".delete",this.deleteHandler),this.delegate("click",".edit",this.editHandler)},n.prototype.closeTooltips=function(){return $(".tooltip").remove()},n.prototype.editHandler=function(e){var t,n;return e.preventDefault(),t=$(e.currentTarget),n=t.attr("href")||t.data("href"),this.closeTooltips(),application.router.route(n)},n.prototype.deleteHandler=function(t){var n=this;t.preventDefault(),this.closeTooltips();if(confirm(this.removeConfirmMessage))return this.model.destroy({wait:!0}).fail(function(e,t){var r;return r=n.getError(e)}).done(function(){return e.success(n.removedMessage)})},n}(r),t});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/form_view",["core/views/view"],function(){var e,t;return t=require("core/views/view"),e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.formSelector="form",t.prototype.formEvent="submit",t.prototype.actionElsSelector="button, a, .btn, select, input, i, textarea",t.prototype.validationRules=null,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.delegate(this.formEvent,this.formSelector,this.submitHandler)},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),this.$form=this.$el.find(this.formSelector),this.validationRules!=null&&this.$form.setValidationRules(this.validationRules),this.$form.find(":input:first:visible").focus()},t.prototype.submitHandler=function(e){return e.preventDefault()},t.prototype.disableActions=function(){var e;e=this.$form||this.$el;if(e)return e.find(this.actionElsSelector).attr("disabled",!0).addClass("disabled")},t.prototype.enableActions=function(){var e;e=this.$form||this.$el;if(e)return e.find(this.actionElsSelector).removeAttr("disabled").removeClass("disabled")},t}(t)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/edit_view",["core/views/form_view","core/feedback"],function(){var e,t,n;return n=require("core/views/form_view"),t=require("core/feedback"),e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.successMessage="Registro editado.",n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.modelBind("change",this.render),this.model.fetch()},n.prototype.fillForm=function(e){throw new Error("Should be overrided in "+this)},n.prototype.fillModel=function(e){throw new Error("Should be overrided in "+this)},n.prototype.render=function(){return n.__super__.render.apply(this,arguments),this.fillForm(this.model)},n.prototype.submitHandler=function(e){var r=this;return n.__super__.submitHandler.apply(this,arguments),this.modelUnbind("change",this.render),this.fillModel(this.$form),this.disableActions(),this.model.save().done(function(){return t.success(r.successMessage),r.trigger("model:saved")}).fail(function(e,t){var n;return n=r.getError(e),r.trigger("model:notSaved",n)}).always(function(){return r.enableActions()})},n}(n)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("core/views/create_view",["core/views/form_view","core/feedback"],function(){var e,t,n;return n=require("core/views/form_view"),t=require("core/feedback"),e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.successMessage="Registro criado.",n.prototype.fillModel=function(e){throw new Error("Should be overrided in "+this)},n.prototype.submitHandler=function(e){var r=this;return n.__super__.submitHandler.apply(this,arguments),this.fillModel(this.$form),this.disableActions(),this.model.save().done(function(){return t.success(r.successMessage),r.trigger("model:saved")}).fail(function(e,t){var n;return n=r.getError(e),r.trigger("model:notSaved",n)}).always(function(){return r.enableActions()})},n}(n)}),define("core/lib/handlebars/form",["handlebars"],function(){var e,t,n;return e=require("handlebars"),t=function(e){var t,n,r,i,s;n={label:"Label",className:"input-xxlarge"},_.defaults(e,n),t=[],i=[],e.className&&(t.push('class="'+e.className+'"'),delete e.className),e.required==null?(t.push('placeholder="(Opcional)"'),delete e.required):e.label+="<em>*</em>",e.id!=null&&(t.push('id="'+e.id+'"'),i.push('for="'+e.id+'"'),delete e.id);for(r in e)s=e[r],t.push(""+r+'="'+s+'"');return[t,i]},n=function(e,t){var n;return n="",e.prefix!=null&&e.suffix!=null?n+='<div class="input-prepend input-append">\n  <span class="add-on">'+e.prefix+"</span>"+t+'<span class="add-on">'+e.suffix+"</span>\n</div>":e.prefix!=null?n+='<div class="input-prepend">\n  <span class="add-on">'+e.prefix+"</span>"+t+"\n</div>":e.suffix!=null?n+='<div class="input-append">\n  '+t+'<span class="add-on">'+e.suffix+"</span>\n</div>":n+=""+t,n},e.registerHelper("help",function(t){var n;return n='<p class="help-block">'+t.hash.text+"</p>",new e.SafeString(n)}),e.registerHelper("textInput",function(r){var i,s,o,u,a;return a=t(r.hash),i=a[0],s=a[1],u=r.fn!=null?r.fn(this):"",o='<div class="control-group">\n  <label class="control-label" '+s.join(" ")+">"+r.hash.label+'</label>\n  <div class="controls">',o+=n(r.hash,'<input type="text" '+i.join(" ")+" />"),o+="  "+$.trim(u)+"\n  </div>\n</div>",new e.SafeString(o)}),e.registerHelper("passwordInput",function(r){var i,s,o,u,a;return a=t(r.hash),i=a[0],s=a[1],u=r.fn!=null?r.fn(this):"",o='<div class="control-group">\n  <label class="control-label" '+s.join(" ")+">"+r.hash.label+'</label>\n  <div class="controls">',o+=n(r.hash,'<input type="password" '+i.join(" ")+" />"),o+="  "+$.trim(u)+"\n  </div>\n</div>",new e.SafeString(o)}),e.registerHelper("fileInput",function(n){var r,i,s,o,u;return n.hash.className="input-file",u=t(n.hash),r=u[0],i=u[1],o=n.fn!=null?n.fn(this):"",s='<div class="control-group">\n  <label class="control-label" '+i.join(" ")+">"+n.hash.label+'</label>\n  <div class="controls">\n    <input type="file" '+r.join(" ")+" />\n    "+$.trim(o)+"\n  </div>\n</div>",new e.SafeString(s)}),e.registerHelper("textareaInput",function(n){var r,i,s,o,u;return u=t(n.hash),r=u[0],i=u[1],o=n.fn!=null?n.fn(this):"",s='<div class="control-group">\n  <label class="control-label" '+i.join(" ")+">"+n.hash.label+'</label>\n  <div class="controls">\n    <textarea type="text" '+r.join(" ")+">"+$.trim(o)+"</textarea>\n  </div>\n</div>",new e.SafeString(s)}),e.registerHelper("checkboxInput",function(n){var r,i,s,o,u,a,f,l;return o="",((a=n.hash)!=null?a.text:void 0)!=null&&(o=(f=n.hash)!=null?f.text:void 0,delete n.hash.text),l=t(n.hash),r=l[0],i=l[1],u=n.fn!=null?n.fn(this):"",s='<div class="control-group">\n  <label class="control-label" '+i.join(" ")+">"+n.hash.label+'</label>\n  <div class="controls">\n    <label class="checkbox">\n      <input type="checkbox" '+r.join(" ")+" />\n      "+o+"\n      "+u+"\n    </label>\n  </div>\n</div>",new e.SafeString(s)}),e.registerHelper("radioInput",function(n){var r,i,s,o,u,a,f,l;return o="",((a=n.hash)!=null?a.text:void 0)!=null&&(o=(f=n.hash)!=null?f.text:void 0,delete n.hash.text),l=t(n.hash),r=l[0],i=l[1],u=n.fn!=null?n.fn(this):"",s='<div class="control-group">\n  <label class="control-label" '+i.join(" ")+">"+n.hash.label+'</label>\n  <div class="controls">\n    <label class="radio">\n      <input type="radio" '+r.join(" ")+" />\n      "+o+"\n      "+u+"\n    </label>\n  </div>\n</div>",new e.SafeString(s)}),e.registerHelper("selectInput",function(n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m;((d=r.hash)!=null?d.empty:void 0)!=null&&(u=(v=r.hash)!=null?v.empty:void 0,delete r.hash.empty),m=t(r.hash),i=m[0],l=m[1],s=r.fn!=null?r.fn(this):"",c='<div class="control-group">\n  <label class="control-label" '+l.join(" ")+">"+r.hash.label+'</label>\n  <div class="controls">\n    <select '+i.join(" ")+">",u!=null&&(c+='<option value="">'+u+"</option>");if(n!=null){o=function(e,t){var n,r,i;if(_.isObject(t)){i=t;for(n in i)r=i[n],e=n,t=r}return'<option value="'+e+'">'+t+"</option>"};if(_.isArray(n))for(a=h=0,p=n.length;h<p;a=++h)f=n[a],c+=o(a,f);else if(_.isObject(n))for(a in n)f=n[a],c+=o(a,f)}return c+="    </select>\n    "+s+"\n  </div>\n</div>",new e.SafeString(c)}),e.registerHelper("checkboxGroup",function(n,r){var i,s,o,u,a,f,l,c,h,p,d=this;p=t(r.hash),i=p[0],f=p[1],s=r.fn!=null?r.fn(this):"",l='<div class="control-group">\n  <label class="control-label" '+f.join(" ")+">"+r.hash.label+'</label>\n  <div class="controls">\n    <div class="checkbox-list">';if(n!=null){o=function(e,t,n){var r,i,s;e==null&&(e="");if(_.isObject(n)){s=n;for(r in s)i=s[r],t=r,n=i}return'<label class="checkbox">\n  <input type="checkbox" value="'+t+'" name="'+e+'"/>\n  '+n+"\n</label>"};if(_.isArray(n))for(u=c=0,h=n.length;c<h;u=++c)a=n[u],l+=o(r.hash.name,u,a);else if(_.isObject(n))for(u in n)a=n[u],l+=o(r.hash.name,u,a)}return l+="  "+s+"\n    </div>\n  </div>\n</div>",new e.SafeString(l)}),e.registerHelper("radioGroup",function(n,r){var i,s,o,u,a,f,l,c,h,p;p=t(r.hash),i=p[0],f=p[1],s=r.fn!=null?r.fn(this):"",l='<div class="control-group">\n  <label class="control-label" '+f.join(" ")+">"+r.hash.label+'</label>\n  <div class="controls">';if(n!=null){o=function(e,t,n){var r,i,s;e==null&&(e="");if(_.isObject(n)){s=n;for(r in s)i=s[r],t=r,n=i}return'<label class="radio">\n  <input type="radio" value="'+t+'" name="'+e+'" />\n  '+n+"\n</label>"};if(_.isArray(n))for(u=c=0,h=n.length;c<h;u=++c)a=n[u],l+=o(r.hash.name,u,a);else if(_.isObject(n))for(u in n)a=n[u],l+=o(r.hash.name,u,a)}return l+="  "+s+"\n  </div>\n</div>",new e.SafeString(l)}),e.registerHelper("controlGroup",function(n){var r,i,s,o,u;return _.defaults(n.hash,{"for":"",label:""}),u=t(n.hash),r=u[0],s=u[1],i=n.fn!=null?n.fn(this):"",o='<div class="control-group">\n  <label class="control-label" for="'+n.hash["for"]+'">'+n.hash.label+'</label>\n  <div class="controls" '+r.join(" ")+">\n      "+i+"\n  </div>\n</div>",new e.SafeString(o)}),e.registerHelper("buttons",function(t){var n;return _.defaults(t.hash,{submitLabel:"Enviar"}),n='<div class="form-actions">',t.hash.cancelLabel!=null&&(n+='<a class="btn"',t.hash.cancelHref!=null&&(n+=' href="'+t.hash.cancelHref+'"'),n+=">"+t.hash.cancelLabel+"\n</a>"),n+='  <button type="submit" class="btn btn-primary">'+t.hash.submitLabel+"</button>\n</div>",new e.SafeString(n)}),e.registerHelper("errorSummary",function(t){var n;return n='<div class="error-summary hide alert alert-danger"></div>',new e.SafeString(n)})}),define("core/lib/handlebars/commons",["handlebars"],function(){var e;return e=require("handlebars"),e.registerHelper("if_eq",function(){return context===options.hash.compare?options.fn(this):options.inverse(this)}),e.registerHelper("unless_eq",function(){return context===options.hash.compare?options.inverse(this):options.fn(this)}),e.registerHelper("if_gt",function(){return context>options.hash.compare?options.fn(this):options.inverse(this)}),e.registerHelper("unless_gt",function(){return context>options.hash.compare?options.inverse(this):options.fn(this)}),e.registerHelper("if_lt",function(){return context<options.hash.compare?options.fn(this):options.inverse(this)}),e.registerHelper("unless_lt",function(){return context<options.hash.compare?options.inverse(this):options.fn(this)}),e.registerHelper("if_gteq",function(){return context>=options.hash.compare?options.fn(this):options.inverse(this)}),e.registerHelper("unless_gteq",function(){return context>=options.hash.compare?options.inverse(this):options.fn(this)}),e.registerHelper("if_lteq",function(){return context<=options.hash.compare?options.fn(this):options.inverse(this)}),e.registerHelper("unless_lteq",function(){return context<=options.hash.compare?options.inverse(this):options.fn(this)}),e.registerHelper("nl2br",function(t){var n;return n=(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2"),new e.SafeString(n)})}),define("core/lib/handlebars_helpers",["handlebars","core/lib/handlebars/form","core/lib/handlebars/commons","core/session"],function(){var e,t;return e=require("handlebars"),t=require("core/session"),e.registerHelper("checkPermission",function(e){var n,r,i;return n=(i=e.hash)!=null?i.permissions:void 0,n&&(n=_.map(n.split(","),function(e){return e.trim()}),t.user.checkAccess(n)?r=e.fn(this):r=e.inverse(this)),r}),e.registerHelper("loadTemplate",function(t){var n,r,i;return n=(i=t.hash)!=null?i.file:void 0,r=require("text!"+n),new e.SafeString(r)})}),define("core",["core/dao_factory","core/dao","core/application","core/sesc_application","core/webuser","core/dispatcher","core/feedback","core/controllers/controller","core/controllers/crud_controller","core/controllers/crud_details_controller","core/models/collection","core/models/sync_collection","core/models/model","core/models/navigation_model","core/views/layout","core/views/sesc_layout","core/views/view","core/views/breadcrumb_view","core/views/table_crud_view","core/views/item_view","core/views/form_view","core/views/edit_view","core/views/create_view","core/views/collection_view","core/views/navigation_view","core/lib/route","core/lib/router","core/lib/subscriber","core/lib/sync_machine","core/mediator","core/session","core/lib/support","core/lib/utils","core/lib/handlebars_helpers"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_){return{DaoFactory:e,Dao:t,Application:n,SescApplication:r,WebUser:i,Dispatcher:s,Feedback:o,Controller:u,CrudController:a,CrudDetailsController:f,Collection:l,SyncCollection:c,Model:h,NavigationModel:p,Layout:d,SescLayout:v,View:m,BreadcrumbView:g,TableCrudView:y,ItemView:b,FormView:w,EditView:E,CreateView:S,CollectionView:x,NavigationView:T,Route:N,Router:C,Subscriber:k,SyncMachine:L,Mediator:A,Session:O,Support:M,Utils:_}});